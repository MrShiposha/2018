****
# День 2 <a name="day2"></a>


## Сбор фитнес и медицинских данных с помощью мобильных приложений <a name="31"></a>

В нашем хакатоне мы не имеем возможности использовать дорогостоящее медицинское оборудование, поэтому мы будет прототипировать систему на основе фитнес данных, полученных с помощью Ваших смартфонов.
В этой части нашего конкурса Вам предстоит разработать мобильное приложение, позволяющее собирать данные и передавать их в разрбатывемую систему через вычислительный хаб Raspberry Pi.

Вы можете использовать один из двух вариантов:

* Разработка в ОС Android.
* Разработка в IOS.

Подсистема сбора данных будет работать следующим образом. На смартфоне должны быть установлены приложения Google Fit и Apple Health, которые позволяют собирать различные фитнес-данные: активность, пройденный путь, количество шагов, пульс. Ондако при наличии специального оборудования и сенсоров, подключаемых к смарфону или передаваемых по беспроводным интерфейсам, эти приложения позволяют фиксировать и анализировать любые медицинские данные, а также передавать их по специальным API другим приложениям. Стоит отметить, что в настоящее время проекты динамично развиваются, поэтому не всегда представляется возможным быстро прототипировать проект из-зи наличия ошибок, отсутствия подробной документации и пр. Поэтому мы поступим другим образом: мы будем использовать накопленную статистику приложений, для чего мы разработаем собственное мобильное приложения, агрегирующее даные медицинского характера. 

## Установка программного обеспечения для разработки мобильных приложений на OS Android <a name="32"></a>

Если вы решили делать приложение для Android, вам потребуются следующие компоненты:

* AndroidStudio
* Нужный нам SDK для AndroidStudio
* Android телефон
* Google аккаунт
* Приложение Google Fit
* Данные в Google Fit

Теперь рассмотрим подробнее каждый элемент отдельно.

### Установка Android Studio <a name="321"></a>

Переходим на сайт [https://developer.android.com/studio/](https://developer.android.com/studio/)

Скачиваем и устанавливаем `Android Studio` на компьютер (желательно исопльзовать ОС Linux). В ходе установки загружаем все предлагаемые модули.


### Установка версии SDK <a name="322"></a>

Определяем версию ОС Вашего телефона.

![Определение версии ОС Android](assets/image4-56.png)
**Распиновка Raspberry**

Запускаем студию и переходим в настройки. 

![Установка Android Studio](assets/SDK.png)
**Установка Android Studio**

Далее необходимо скачать нужный SDK из соответствующего раздела меню.

![Выбор версии ОС](assets/Android-SDK-24.4.1-Latest-Version-Download.png)
**Выбор версии ОС**

### Android телефон, Google аккаунт, Приложение Google Fit <a name="323"></a>


Вам необходимо создать аккаунт для вашего проекта. Зайти в него на телефоне и установить приложение `Google Fit` с помощью `Google Play Market`.

Далее запустите приложение и войдите под созданным аккаунтом. Теперь вам можно начать собирать данные, например, начав ходить по аудитории.  Проверьте, что данные корректно фиксируются в приложении `GoogleFit`.

![Приложение Google Fit](assets/GoogleFit.png)
**Приложение Google Fit**

## Установка программного обеспечения для разработки мобильных приложений на iOS <a name="33"></a>

Для того, чтобы разрабатывать мобильные приложения для iOS необходим компьютер старше 2013 года с операционной системой iOS Mojave. На компьютер необходимо установить для разработки iOS приложений Xcode.

Xcode (версия 10) можно скачать в магазине AppStore на компьютере с macOSMojave :

![](%D0%A7%D1%82%D0%BE%20%D0%BD%D0%B5%D0%BE%D0%B1%D1%85%D0%BE%D0%B4%D0%B8%D0%BC%D0%BE%20%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D0%B4%D0%BB%D1%8F%20iOS_html_2d196317aa6bb516.png)

После установки, IDE отобразится в меню приложений:

![](%D0%A7%D1%82%D0%BE%20%D0%BD%D0%B5%D0%BE%D0%B1%D1%85%D0%BE%D0%B4%D0%B8%D0%BC%D0%BE%20%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D0%B4%D0%BB%D1%8F%20iOS_html_95debbd82af313ff.png)

Прежде чем писать приложения под iOS и отправлять их на сервер, необходимо их подготовить и собрать при помощи iPhone.

Любые параметры, связанные со здоровьем в iPhone, как правило передаются в системное приложение Health, которое выглядит так:

![](%D0%A7%D1%82%D0%BE%20%D0%BD%D0%B5%D0%BE%D0%B1%D1%85%D0%BE%D0%B4%D0%B8%D0%BC%D0%BE%20%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D0%B4%D0%BB%D1%8F%20iOS_html_c06e4f2a185a5031.png)

Подробное описание можно найти на сайте: [https://www.apple.com/ru/ios/health/](https://www.apple.com/ru/ios/health/)

Во время работы с нашим примером мы будем собирать следующие данные: пульс, медитацию, сон и отдых (в приложении называется осознанность), шаги, калории и другие параметры питания.

Чтобы собирать данные о пульсе необходимо:

1) Установить приложение

![](%D0%A7%D1%82%D0%BE%20%D0%BD%D0%B5%D0%BE%D0%B1%D1%85%D0%BE%D0%B4%D0%B8%D0%BC%D0%BE%20%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D0%B4%D0%BB%D1%8F%20iOS_html_b818428146844971.jpg)

2) Зайти в приложение Cardiio

![](%D0%A7%D1%82%D0%BE%20%D0%BD%D0%B5%D0%BE%D0%B1%D1%85%D0%BE%D0%B4%D0%B8%D0%BC%D0%BE%20%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D0%B4%D0%BB%D1%8F%20iOS_html_582217324c415d5c.jpg)

3) Зайти в настройки и проскроллить до секции AppleHealth, после чего включить интеграцию с Health

![](%D0%A7%D1%82%D0%BE%20%D0%BD%D0%B5%D0%BE%D0%B1%D1%85%D0%BE%D0%B4%D0%B8%D0%BC%D0%BE%20%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D0%B4%D0%BB%D1%8F%20iOS_html_a66391c66f8a8299.jpg)

4) После измерения пульса, данные можно будет увидеть в Health

![](%D0%A7%D1%82%D0%BE%20%D0%BD%D0%B5%D0%BE%D0%B1%D1%85%D0%BE%D0%B4%D0%B8%D0%BC%D0%BE%20%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D0%B4%D0%BB%D1%8F%20iOS_html_2f275c92138b7eca.jpg)

Чтобы собирать данные с шагомера и пройденного расстояния не нужно ставить никаких дополнительных приложений, все данные уже находятся в Health:

![](%D0%A7%D1%82%D0%BE%20%D0%BD%D0%B5%D0%BE%D0%B1%D1%85%D0%BE%D0%B4%D0%B8%D0%BC%D0%BE%20%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D0%B4%D0%BB%D1%8F%20iOS_html_4b6eb75e2df605fe.jpg)

Чтобы собирать данные о питании необходимо проделать следующие шаги:

1) Установить приложение FatSecret

![](%D0%A7%D1%82%D0%BE%20%D0%BD%D0%B5%D0%BE%D0%B1%D1%85%D0%BE%D0%B4%D0%B8%D0%BC%D0%BE%20%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D0%B4%D0%BB%D1%8F%20iOS_html_61a282a276905974.jpg)

2) Зайти в настройки приложения и включить интеграцию с Health

![](%D0%A7%D1%82%D0%BE%20%D0%BD%D0%B5%D0%BE%D0%B1%D1%85%D0%BE%D0%B4%D0%B8%D0%BC%D0%BE%20%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D0%B4%D0%BB%D1%8F%20iOS_html_ebea3cd28a29ae1c.jpg)

3) Добавить прием пищи в приложение

![](%D0%A7%D1%82%D0%BE%20%D0%BD%D0%B5%D0%BE%D0%B1%D1%85%D0%BE%D0%B4%D0%B8%D0%BC%D0%BE%20%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D0%B4%D0%BB%D1%8F%20iOS_html_7af205cc846dc391.jpg)

4) После этого вся информации о питании будет доступна в Health

![](%D0%A7%D1%82%D0%BE%20%D0%BD%D0%B5%D0%BE%D0%B1%D1%85%D0%BE%D0%B4%D0%B8%D0%BC%D0%BE%20%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D0%B4%D0%BB%D1%8F%20iOS_html_6b91a9fa11f1d15f.jpg)

Для того чтобы собирать данные о медитации и отдыхе необходимо проделать следующие шаги:

1) Установить приложение Relax Melodies

![](%D0%A7%D1%82%D0%BE%20%D0%BD%D0%B5%D0%BE%D0%B1%D1%85%D0%BE%D0%B4%D0%B8%D0%BC%D0%BE%20%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D0%B4%D0%BB%D1%8F%20iOS_html_3078659d9baa9bab.jpg)

2) Включить в настройках интеграцию с Health

![](%D0%A7%D1%82%D0%BE%20%D0%BD%D0%B5%D0%BE%D0%B1%D1%85%D0%BE%D0%B4%D0%B8%D0%BC%D0%BE%20%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D0%B4%D0%BB%D1%8F%20iOS_html_c488a74b92455944.jpg)

3) Далее после медитации под какую-нибудь бесплатную мелодию данные о медитации отправятся в Health

![](%D0%A7%D1%82%D0%BE%20%D0%BD%D0%B5%D0%BE%D0%B1%D1%85%D0%BE%D0%B4%D0%B8%D0%BC%D0%BE%20%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D0%B4%D0%BB%D1%8F%20iOS_html_141b413dd1351942.jpg)
